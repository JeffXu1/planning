////
//// Created by next on 2022/4/6.
////
//
////
//// Created by next on 2022/4/6.
////
//
// #include <iostream>
// #include <memory>
// #include <utility>
//
// namespace Widget1 {
//    template<typename T>
//    class WidgetImpl {
//    public:
//        WidgetImpl(T a, T b, T c) : a_(a), b_(b), c_(c) {};
//
//        void print() {
//            std::cout << "a,b,c:" << a_ << "," << b_ << "," << c_ <<
//            std::endl;
//        }
//
//    private:
//        T a_, b_, c_;
//    };
//
//    template<typename T>
//    class Widget {
//    public:
//        Widget(T a, T b, T c) {
//            auto wPtr = std::make_shared<WidgetImpl<T>>(a, b, c);
//            pImpl = wPtr;
//        }
//
//        void swap(Widget &rhs) {
//            using std::swap;
//            swap(pImpl, rhs.pImpl);
//        }
//
//        void show() { pImpl->print(); }
//
//    private:
//        std::shared_ptr<WidgetImpl<T>> pImpl;
//    };
//
//    template<typename T>
//    class Widget2 {
//    };
//
//    template<typename T>
//    void Swap(T &obj1, T &obj2) {
//        using std::swap;
//        swap(obj1, obj2);
//    }
//}  // namespace Widget1
//
// using namespace Widget1;
//
// int main() {
//    Widget<int> w1(1, 2, 3);
//    Widget<int> w2(3, 4, 5);
//
//    //    w1.swap(w2);
//    int a = 3, b = 4;
//    //传统stl中的swap
//    Swap(a, b);
////    std::cout << "a,b:" << a << "," << b << std::endl;
//    //成员函数swap
//    Swap(w1, w2);
//    w1.show();
//    w2.show();
//
//    return 0;
//}

#include "matplotlibcpp.h"
#include <functional>
#include <iostream>
#include <vector>

using namespace std;
namespace plt = matplotlibcpp;

std::vector<double> a, b, c, d;

std::vector<std::pair<double, double>> pp{
    {22.054390468285419, 56.08105813479051},
    {25.076346441986971, 52.998396575450897},
    {-53.127904145745561, -24.064617445226759},
    {-56.213187009096146, -20.951041026506573},
    {22.054390468285419, 56.08105813479051},
    {56.343918262282386, 21.317265023011714},
    {-21.750802237074822, -55.65119752753526},
    {-24.95074234646745, -52.49935100832954},
    {53.243180682766251, 24.39140359358862},
    {56.343918262282386, 21.317265023011714},
    {-53.127904145745561, -24.064617445226759},
    {-46.626580213662237, -17.658224102575332},
    {-18.404101222520694, -46.06187207903713},
    {-24.95074234646745, -52.49935100832954},
    {-53.127904145745561, -24.064617445226759},
    {25.076346441986971, 52.998396575450897},
    {53.243180682766251, 24.39140359358862},
    {46.938737523392774, 18.191974439192563},
    {18.622317541856319, 46.63849524827674},
    {25.076346441986971, 52.998396575450897},
    {39.263059602351859, 76.391059961635619},
    {44.38037590496242, 76.167555073276162},
    {49.232935585430823, 75.114092084113508},
    {53.023284339811653, 73.827113877981901},
    {57.357036916422658, 71.855424160603434},
    {61.973712704493664, 68.251095131505281},
    {66.962535305414349, 63.921183547005057},
    {70.357946771313436, 59.279147684108466},
    {72.75354699138552, 54.901089787948877},
    {69.307906912639737, 53.73885262850672},
    {67.107161923660897, 57.069254014175385},
    {63.635359004372731, 61.54007551074028},
    {59.22183566307649, 65.514406051952392},
    {52.457491580746137, 69.887272915802896},
    {46.902202994795516, 72.177218987606466},
    {39.286510788486339, 73.682006397284567},
    {39.263059602351859, 76.391059961635619},
    {69.307906912639737, 53.73885262850672},
    {72.75354699138552, 54.901089787948877},
    {74.910416240920313, 49.533996727783233},
    {77.216274220496416, 42.110974093899131},
    {77.809289750177413, 36.502963305916637},
    {77.424151569255628, 30.560953662730753},
    {76.081206234521233, 23.726910236291587},
    {73.769965800805949, 17.22570045478642},
    {71.553381838137284, 12.399924903642386},
    {68.124956466141157, 7.7463323650881648},
    {65.760079592932016, 9.7844884051010013},
    {68.737744211219251, 13.926769586279988},
    {70.18049308063928, 17.288373850286007},
    {72.635131522198208, 25.228972204960883},
    {73.67339457583148, 30.819943080190569},
    {73.979533882229589, 35.985987369902432},
    {73.549071465968154, 41.250386894214898},
    {71.775389149901457, 47.898802618030459},
    {69.307906912639737, 53.73885262850672},
    {65.760079592932016, 9.7844884051010013},
    {68.124956466141157, 7.7463323650881648},
    {56.363962309551425, -5.8444044436328113},
    {39.469524384243414, -23.617993188556284},
    {21.547491660225205, -42.472569465171546},
    {19.619571454357356, -41.000492639373988},
    {13.41109743306879, -47.007866447325796},
    {16.455646275891922, -50.679989683907479},
    {13.465997488470748, -53.426850846968591},
    {10.389570761937648, -54.220705941785127},
    {7.4893360957503319, -51.035781539510936},
    {1.6000990604516119, -56.668307298328727},
    {-6.796006154967472, -64.817339278291911},
    {-8.4589851613854989, -62.545762875583023},
    {1.1582955024205148, -53.173308615572751},
    {10.475438094465062, -44.093330645933747},
    {19.453623054665513, -35.343662539497018},
    {28.273674802272581, -26.748083908576518},
    {37.590758354519494, -17.668102805037051},
    {46.996610381873325, -8.5015910696238279},
    {56.649343625991605, 0.90554185910150409},
    {65.760079592932016, 9.7844884051010013},
    {-8.4589851613854989, -62.545762875583023},
    {-6.796006154967472, -64.817339278291911},
    {-14.206612263806164, -70.153209024574608},
    {-23.089904783642851, -74.203160478267819},
    {-33.50747561478056, -76.293930567335337},
    {-41.699621155275963, -75.892951392102987},
    {-50.739960004924797, -74.107791694812477},
    {-60.2235359440092, -70.325720446184278},
    {-65.666653818334453, -66.562301472760737},
    {-63.267321269959211, -62.382453334517777},
    {-58.506853113416582, -66.724634342361242},
    {-50.382466687238775, -70.344663652591407},
    {-42.848321345285513, -72.543666654732078},
    {-31.555923934676684, -73.015908790752292},
    {-23.398804341908544, -70.899396019056439},
    {-15.863906070473604, -67.635787442792207},
    {-8.4589851613854989, -62.545762875583023},
    {-76.028752123005688, -27.9445736319758},
    {-73.047762866481207, -28.503337648697197},
    {-73.458963852492161, -32.089430920314044},
    {-73.565126653527841, -36.067599236499518},
    {-73.176046565757133, -40.599751428700984},
    {-72.370730937458575, -44.639914140105247},
    {-70.97957354655955, -48.560596813447773},
    {-69.654176218435168, -51.960698447655886},
    {-67.678926883614622, -55.813159129116684},
    {-65.509688195539638, -59.431738208048046},
    {-63.267321269959211, -62.382453334517777},
    {-65.666653818334453, -66.562301472760737},
    {-68.288975045550615, -63.095865493174642},
    {-72.205895504099317, -55.732993447221816},
    {-74.43521916703321, -49.053476938977838},
    {-76.382894611801021, -41.635089401621372},
    {-76.963487446890213, -33.652814924716949},
    {-76.028752123005688, -27.9445736319758},
    {16.423425460001454, -25.520964900031686},
    {16.505684162257239, -26.81766764819622},
    {16.452117498032749, -28.235460684634745},
    {16.251059230417013, -29.607972227036953},
    {14.133628203067929, -31.737449413631111},
    {11.64104555582162, -34.244211051613092},
    {9.3402662303997204, -36.558076932560652},
    {7.3374565164558589, -38.572277319617569},
    {5.934879650361836, -38.764633428771049},
    {4.3397786943241954, -38.782635446172208},
    {3.0606903394218534, -38.624583592172712},
    {7.1668170365737751, -34.396182112861425},
    {9.6421425596345216, -31.977697785012424},
    {12.136743279872462, -29.540379391983151},
    {16.423425460001454, -25.520964900031686},
    {-73.047762866481207, -28.503337648697197},
    {-76.028752123005688, -27.9445736319758},
    {-74.458311153110117, -21.997280300129205},
    {-72.35567417088896, -16.680508044548333},
    {-68.509522384614684, -10.878185002598912},
    {-63.793473603553139, -6.1803257954306901},
    {-62.22034469502978, -7.9334707059897482},
    {-64.390774947823957, -10.084179843310267},
    {-67.041578439879231, -13.534589035902172},
    {-69.320505626033992, -17.452812375500798},
    {-70.689295953139663, -20.251200346741825},
    {-71.742112028412521, -23.12538822600618},
    {-73.047762866481207, -28.503337648697197},
    {-62.22034469502978, -7.9334707059897482},
    {-63.793473603553139, -6.1803257954306901},
    {-54.47087387018837, 3.0295428554527462},
    {-46.090539018041454, 11.308558779302984},
    {-36.956756829516962, 20.331932274159044},
    {-27.95274294691626, 29.227125977165997},
    {-19.008929496398196, 38.062866355292499},
    {-10.06982790492475, 46.893971273675561},
    {-1.8130717760650441, 55.05099168792367},
    {7.2729300402570516, 64.027260279282928},
    {8.9342230490874499, 62.320333691313863},
    {-0.11102459777612239, 53.389523727819324},
    {-8.6219895835965872, 44.986255025491118},
    {-17.501840049400926, 36.21878744661808},
    {-26.574950181180611, 27.260525905992836},
    {-35.142910171649419, 18.801038636825979},
    {-43.900926983682439, 10.153919183649123},
    {-52.850602971855551, 1.3175866925157607},
    {-62.22034469502978, -7.9334707059897482},
    {8.9342230490874499, 62.320333691313863},
    {7.2729300402570516, 64.027260279282928},
    {10.429555228562094, 66.693681205622852},
    {14.082296756561846, 69.283365008421242},
    {18.236472564516589, 71.505201905500144},
    {22.626258282456547, 73.488717459607869},
    {27.563593079103157, 75.174557992722839},
    {33.216078689321876, 76.083482003770769},
    {39.263059602351859, 76.391059961635619},
    {39.286510788486339, 73.682006397284567},
    {33.283055406645872, 73.384549206122756},
    {27.562696148757823, 72.445971094071865},
    {23.123444299097173, 71.239253007806838},
    {19.178986544371583, 69.530895830597728},
    {15.098869074368849, 67.298062161542475},
    {11.512351120938547, 64.703129118308425},
    {8.9342230490874499, 62.320333691313863}};

std::vector<std::pair<double, double>> ppp{
    {-9.4650372919859365, 34.54582516476512},
    {-6.6292475459631532, 37.363780735060573},
    {-3.6929165315814316, 40.281647346448153},
    {-0.82032003172207624, 43.136182267218828},
    {2.1160069161560386, 46.054049018770456},
    {5.0829877090873197, 49.002379046287388},
    {8.0812274266500026, 51.98177368985489},
    {10.921949723502621, 54.804642996750772},
    {13.743603881215677, 57.60856596659869},
    {15.304018105845898, 59.087203055620193},
    {17.154347460833378, 60.546063618268818},
    {19.145755142322741, 62.001911169383675},
    {21.373984799487516, 63.247806376311928},
    {24.177131309756078, 64.423430235125124},
    {27.164012517081574, 65.409736954141408},
    {30.083421132294461, 66.166563231498003},
    {33.189700782764703, 66.592930200509727},
    {36.494206313393079, 66.645297956652939},
    {39.63190767262131, 66.321129671297967},
    {42.344932063715532, 65.89909714832902},
    {44.944777404074557, 65.218181423842907},
    {47.798741203267127, 64.209003331139684},
    {50.520503497333266, 62.910399549640715},
    {52.496516758576035, 61.741202577482909},
    {54.297899088473059, 60.480352949816734},
    {54.297899088473059, 60.480352949816734},
    {56.36990318808239, 58.883671786636114},
    {58.278321657911874, 56.95113671803847},
    {60.195005784626119, 54.759951705113053},
    {61.878086877521127, 52.407866483554244},
    {63.352553302654997, 49.882825707085431},
    {64.556660650065169, 47.303461606614292},
    {65.597335102385841, 44.579884047154337},
    {66.247179640573449, 41.581464145332575},
    {66.87982084415853, 38.42092502489686},
    {66.950503073981963, 35.141288770362735},
    {66.818420656840317, 31.779470629058778},
    {66.224921489832923, 28.445783142931759},
    {65.358659979538061, 25.148119586985558},
    {64.329615138005465, 22.419353309553117},
    {63.006468952284195, 19.909914447460324},
    {61.461756332661025, 17.626047036144882},
    {59.51187065790873, 15.241167715284973},
    {57.6509426162811, 13.206206412054598},
    {53.61257087404374, 9.2142531480640173},
    {49.341002741479315, 4.991788262501359},
    {44.972173227928579, 0.67318464862182736},
    {40.390021258033812, -3.8562839776277542},
    {35.833048734813929, -8.3608575901016593},
    {31.299515519174747, -12.842256390489638},
    {26.528054393478669, -17.558841587044299},
    {22.127663895254955, -21.908618869259953},
    {22.127663895254955, -21.908618869259953},
    {17.651087169419043, -26.336173405870795},
    {13.347679871949367, -30.592450254131109},
    {8.6646218381356448, -35.224214816931635},
    {4.4244798207655549, -39.417910003103316},
    {-0.0687645492143929, -43.861930259969085},
    {-4.4049605628242716, -48.15061797760427},
    {-8.7061237246962264, -52.404652144759893},
    {-13.420790794305503, -57.067654164507985},
    {-16.010523902717978, -59.244449515827},
    {-18.664120728732087, -61.152924163732678},
    {-21.267022092826664, -62.660912241786718},
    {-23.971515416284092, -63.981340050231665},
    {-26.981524837436154, -65.064727275166661},
    {-29.93439375818707, -65.630605493672192},
    {-32.9415510261897, -65.951683831866831},
    {-35.95852630014997, -66.022989914286882},
    {-38.945536430343054, -65.846000889781862},
    {-41.822711097192951, -65.430436527356505},
    {-44.654759457684122, -64.717309223487973},
    {-47.364729961263947, -63.790086823981255},
    {-49.701869853655808, -62.656669485382736},
    {-51.993053087382577, -61.36513285478577},
    {-54.219127723597921, -59.869310661684722},
    {-56.167284088907763, -58.225168066099286},

    {-56.167284088907763, -58.225168066099286},
    {-58.394692035042681, -56.015372272115201},
    {-60.396662071580067, -53.593250163830817},
    {-62.226028688019142, -50.92998731834814},
    {-63.720958275021985, -47.971122533082962},
    {-64.905888853943907, -44.983055633958429},
    {-65.804421045118943, -41.901257382705808},
    {-66.386829210910946, -38.653016384225339},
    {-66.658705442678183, -35.187540285289288},
    {-66.607336966437288, -32.681156937032938},
    {-66.483075580210425, -30.198682267218828},
    {-65.912029610131867, -27.56103646941483},
    {-65.129997603595257, -25.080548261292279},
    {-63.879663783241995, -21.950287197250873},
    {-62.256679443758912, -18.840024821925908},
    {-60.321399739594199, -16.081441747024655},
    {-59.16026233159937, -14.621753429062665},
    {-57.440027585951611, -12.718316048849374},
    {-51.610311838099733, -6.9750094725750387},
    {-45.732723612803966, -1.1845316360704601},
    {-39.607433777535334, 4.8499856046400964},
    {-33.895393292070366, 10.477385777514428},
    {-27.940348861389793, 16.344197525177151},
    {-21.51160755509045, 22.677697305101901},
    {-15.637584197684191, 28.464706027880311},
    {-9.4650372919859365, 34.54582516476512},
    {-11.983488609082997, 37.182069933973253},
    {-9.0038887721020728, 40.127454896923155},
    {-6.0456416511442512, 43.051734481472522},
    {-3.1483692713081837, 45.915741520468146},
    {-0.14246539596933872, 48.887134958989918},
    {2.6266773055540398, 51.624487393070012},
    {5.5540437188465148, 54.518249136395752},
    {8.4181179339066148, 57.349447260610759},
    {11.190147128072567, 60.089658837765455},
    {13.047504239948466, 61.802706596907228},
    {15.080515094217844, 63.424743312876672},
    {17.969463777262717, 65.287075072526932},
    {21.094118064153008, 67.022314271423966},
    {24.092586694983765, 68.155289605259895},
    {27.162377663888037, 69.068064919672906},
    {30.357161619351245, 69.778059168718755},
    {33.727409646264277, 70.176098099444062},
    {36.562027649837546, 70.189326736610383},
    {39.373584367102012, 69.957514063920826},
    {42.248169781290926, 69.530918318778276},
    {45.043046973762102, 68.859959417954087},
    {48.073463147156872, 67.896844678092748},
    {50.816505355993286, 66.664330974686891},
    {53.698031831299886, 65.153948803432286},
    {56.408153058262542, 63.322103282436728},
    {56.408153058262542, 63.322103282436728},
    {59.252939281985164, 60.907954869791865},
    {61.750721944496036, 58.349179606419057},
    {64.319634972489439, 55.121165307704359},
    {66.353350684628822, 51.838951135985553},
    {67.953218213981017, 48.304930580314249},
    {69.130100944661535, 44.705265142954886},
    {69.917545275180601, 41.486807676497847},
    {70.333616223651916, 38.35820473311469},
    {70.410339800291695, 34.488621034659445},
    {70.132507156347856, 30.563280960079283},
    {69.537477582343854, 27.311276325490326},
    {68.594150026678108, 24.181886120233685},
    {67.258519881987013, 20.858415657654405},
    {65.621784631977789, 17.783560949377716},
    {63.024328516912647, 13.974810744635761},
    {60.170186819159426, 10.819177448283881},
    {55.966008803690784, 6.6511615482158959},
    {51.54130784154404, 2.2645241911523044},
    {47.210382861434482, -2.0291392640210688},
    {42.471710277488455, -6.7270369715988636},
    {38.110875627840869, -11.050343087408692},
    {33.55907469347585, -15.562967104837298},
    {29.007948810351081, -20.074916819576174},
    {24.431450123898685, -24.612015823833644},
    {24.431450123898685, -24.612015823833644},
    {19.982921780901961, -29.008044651243836},
    {15.592485206900164, -33.346662554889917},
    {11.119730917271227, -37.766621781047434},
    {6.7094899351941422, -42.124800814781338},
    {2.3404010051162913, -46.442308919504285},
    {-2.0912106338655576, -50.821596849709749},
    {-6.4587424189085141, -55.137556831818074},
    {-10.964601293555461, -59.590205664746463},
    {-13.139471153845079, -61.592850382905453},
    {-15.693975984118879, -63.450594131369144},
    {-18.241556099848822, -65.147016362752765},
    {-21.014839576208033, -66.671700860373676},
    {-24.240570623893291, -68.21679199533537},
    {-28.119097354938276, -69.176168111152947},
    {-31.869561258237809, -69.572098398115486},
    {-35.567897914210334, -69.629551537334919},
    {-38.939250045455992, -69.441281787585467},
    {-42.194808854488656, -68.954306700266898},
    {-45.409604809479788, -68.135154553223401},
    {-48.470389182446525, -67.116208966355771},
    {-51.249879690818489, -65.849864711984992},
    {-53.874127492308617, -64.459437812678516},
    {-56.176356601645239, -62.986144859343767},
    {-58.527032257406972, -61.173459173180163},
    {-58.527032257406972, -61.173459173180163},
    {-60.960278641665354, -58.718046856112778},
    {-63.169588529970497, -56.0226083798334},
    {-64.695005613029934, -53.81674193078652},
    {-66.308995581930503, -50.880721976049244},
    {-67.432021430693567, -48.38473532628268},
    {-68.618902314105071, -45.227033852599561},
    {-69.248225216055289, -42.731524063739926},
    {-69.924924691324122, -39.446734379976988},
    {-70.15635024535004, -36.052919404115528},
    {-70.052468737238087, -32.172457593493164},
    {-69.65466779738199, -28.429039598442614},
    {-68.723637345712632, -24.764799617696553},
    {-67.43712128221523, -21.15334527567029},
    {-65.958553529460914, -18.149631911888719},
    {-64.235575611353852, -15.320597983431071},
    {-62.33035436924547, -12.771438811440021},
    {-59.905227134237066, -10.200264546554536},
    {-54.318011784227565, -4.6759673617780209},
    {-47.947958756471053, 1.6223611771129072},
    {-42.33629855280742, 7.1708443113602698},
    {-36.427282711258158, 13.013343699742109},
    {-30.435937256086618, 18.937254616059363},
    {-24.445110320928507, 24.860661600250751},
    {-17.818909452413209, 31.412302289158106},
    {-11.983488609082997, 37.182069933973253}};

void draw() {
  for (auto &item : pp) {
    a.push_back(item.first);
    b.push_back(item.second);
  }
  for (auto &item : ppp) {
    c.push_back(item.first);
    d.push_back(item.second);
  }
  plt::named_plot("obs", a, b, ".");
  plt::named_plot("lane", c, d, ".");

  //  plt::named_plot("ref_line", b);

  plt::legend();
  plt::axis("equal");
  // plt::legend() 指在图例中显示 “ref_line_XY”等表述信息
  plt::legend();
  plt::show();
  //   plt::axis("equal");
  // save figure

  //  char const *filename = "./../picture/basic.png";
  //  std::cout << "Saving result to " << filename << std::endl;
  //  plt::save(filename);
}
int main() {
  draw();
  return 0;
}